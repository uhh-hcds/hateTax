<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Interactive Hate Speech Taxonomy Editor</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
<header>
  <h2>Interactive Taxonomy of Hate Speech</h2>
  <select id="taxonomySelector" style="font-size:14px; padding:5px;">
    <option value="merged">Merged Taxonomy</option>
    <option value="platform">Platform Policy Taxonomy</option>
    <option value="country">Country Regulation Taxonomy</option>
    <option value="dataset">Research Dataset Taxonomy</option>
  </select>
  <button id="refreshBtn" style="margin-left:20px;padding:5px 10px;">Refresh</button>
  <button id="togglePanelBtn" style="margin-left:20px;padding:5px 10px;">Hide Panel</button>
  <input type="text" id="platformSearch" placeholder="Search Platform..." style="margin-left:10px;padding:5px;">
  <button id="searchBtn">Search</button>


</header>


<div class="container">
  <!-- Left: Tree -->
  <div class="left">
    <svg id="tree"></svg>
  </div>

  <!-- Right: Collapsible Panel -->
<div class="panel">
  <h3 id="panelTitle">Select a node</h3>
  <div class="meta" id="panelMeta">Depth: — • Children: —</div>
  <label>Definition:</label>
  <textarea id="panelDef"></textarea>
  <hr>

  <!-- Add / Update Node Section -->
  <div class="panel-section" id="nodeEditorSection">
    <h4 class="panel-header">Add / Update Node ►</h4>
    <div class="panel-content">
      <label>Node Name:</label>
      <input type="text" id="newNodeName" placeholder="Node name">
      <label>Node Description:</label>
      <textarea id="newNodeDesc" placeholder="Node description"></textarea>
      <button id="addNodeBtn">Add Node</button>
      <button id="updateNodeBtn">Update Node</button>
      <button id="deleteNodeBtn">Delete Node</button>
    </div>
  </div>

  <hr>

  <!-- Tree Controls Section -->
  <div class="panel-section" id="treeControlsSection">
    <h4 class="panel-header">Tree Controls ►</h4>
    <div class="panel-content">
      <button id="expandAllBtn">Expand All</button>
      <button id="collapseAllBtn">Collapse All</button>
      <button id="toggleLayoutBtn">Toggle Radial</button>
      <br><br>
      <label>Level to Expand:</label>
      <input type="number" id="expandLevelInput" min="0" placeholder="Enter level">
      <button id="expandLevelBtn">Expand Level</button>
      <br>
      <label>Level to Collapse:</label>
      <input type="number" id="collapseLevelInput" min="0" placeholder="Enter level">
      <button id="collapseLevelBtn">Collapse Level</button>
    </div>
  </div>

  <hr>

  <!-- Export / Import Section -->
  <div class="panel-section" id="exportImportSection">
    <h4 class="panel-header">Export / Import ►</h4>
    <div class="panel-content">
      <button id="exportJsonBtn">Export JSON</button>
      <button id="exportPngBtn">Export PNG</button>
      <input type="file" id="importJsonInput" accept="application/json">
    </div>
  </div>
</div>

</div>
<!-- Profile Popup -->
<div id="profilePopup" style="
    display:none;
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:400px;
    max-height:80%;
    overflow-y:auto;
    background:#fff;
    border:1px solid #ccc;
    box-shadow:0 0 15px rgba(0,0,0,0.3);
    padding:20px;
    z-index:1000;
">
  <button id="closeProfilePopup" style="float:right;">✖ Close</button>
  <h3 id="profileTitle"></h3>
  <div id="profileContent"></div>
  <button id="downloadProfileTxt" style="margin-top:10px;">Download TXT</button>
  <button id="downloadProfilePdf" style="margin-top:10px;">Download PDF</button>
</div>

<script src="script.js"></script>

</body>
</html>
